


<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <title>用户配置</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="stylesheet" href="../../../public/js/layui/css/layui.css" media="all">
  <link rel="stylesheet" href="../../../public/style/admin.css" media="all">
  <script type="text/javascript" src="../../../public/js/jquery-2.2.2.min.js"></script>
  <script type="text/javascript" src="../../../public/js/layui/layui.all.js"></script>
</head>
<body>
<style>
  #table_data input{
    width: 100%;
    height: 30px;
    line-height: 30px;
    margin: 10px 0;
  }
  #table_data{
    padding: 0 10px;
    box-sizing: border-box;
  }
</style>



<div class="main" style="width:100%">
  <div th:include="/simple/public/public_menu :: navMenu" style="width: 10%; float: left;"></div>
  <div class="layui-fluid" style="width: 76%;float: left;padding:0px 20px;box-sizing: border-box;">
    <div class="layui-card">
      <div class="layui-form layui-card-header layuiadmin-card-header-auto" lay-filter="layadmin-userfront-formlist">
        <div class="layui-form-item">

          <p>修改密码</p>
        </div>
      </div>

      <div id="userData">
        <span>当前密码：</span>
        <input id="nowPassWD"> <br/>
        <span>新密码：</span>
        <input type="password" id="newPassWD"><br/>
        <span>确认新密码：</span>
        <input type="password" id="newPassWDSee"><br/>

        <button id="ediPassWD" class="layui-btn">确认修改</button>


      </div>


      <div id="page" style="padding-left: 20px"></div>
      <script type="text/html" id="imgTpl">
        <img style="display: inline-block; width: 50%; height: 100%;" src= {{ d.avatar }}>
      </script>
    </div>
  </div>
</div>








<script th:inline="none" type='module'>

    import  base from "../../../public/js/common/base.js";
    import conslog from "../../../public/js/common/conslog.js";
    import menu from "../../../public/js/common/menu.js";
    import common from "../../../public/js/common/common.js";



    var cons = new conslog();
    var url = "/manage/user";


    $(function(){
        var tempMenu = new menu();

        tempMenu.findMenu();

        $(document).on('click','#ediPassWD',function(){
            setPassWD();
        })
    });


    function setPassWD() {
        var passWd = $('#nowPassWD').val();
        var passWD1 = $('#newPassWD').val()
        var passWD2 = $('#newPassWDSee').val();

        if(passWD1!=passWD2){
            layui.layer.msg("新密码和确认密码不一致");
            return false;
        }
        var comm = new common();

        var para = {
            url : "/manage/user/ediPassWD",
            type : 'get',
            data :{nowPassWD:passWd, newPassWD:passWD1},
            async : true
        }
        comm.ajax(para).then(res=>{
            layui.layer.msg(res.msg);

        }).catch(res=>{

        })



    }




</script >
</body>
</html>