  <title>栏目管理</title>
  <style>
    .layui-table-view .layui-form-checkbox[lay-skin=primary] i {
      margin-top: 5px;
    }

    .layui-tab-title li {
      margin-left: 10px;
    }

    .white {
      background: #ffffff;
      color: green;
    }

    .black {
      background: #B2B2B2;
      color: #fff;
    }

    .ztree li {
      margin-top: 10px;
    }

    select option {
      background: #fff;
      color: #000;
    }
     #companys2 input{
       width: 345px!important;
     }
    .layui-tab-item ul li {
      width: 181px;
      height: 184px;
      border: 1px solid rgba(228, 228, 228, 1);
      margin: 50px 20px 20px 20px;
      position: relative;
      display: inline-block;
      z-index: 1;
    }

    .uls .layui-form-checkbox[lay-skin=primary] i {
      height: 16px;
      width: 16px;
      position: absolute;
      top: 5px;
      left: -90px;
    }

    .bottom {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 40px;
      width: 181px;
      background: rgba(240, 240, 240, 1);
    }

    .layui-tab-item ul li form {
      width: 181px;
      height: 144px;
      background: url("./img/u7159.png") no-repeat center center;
      background-size: 50% 50%;
      position: absolute;
      top: 0;
      left: 0;
    }

    .chanelName {
      text-align: center;
      line-height: 110px;
      font-size: 18px;
      font-weight: bolder;
    }

    .bottom img {
      margin: 10px;
    }

    .layui-tab-item ul li>img {
      margin: auto;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }

    .layui-btn:nth-of-type(2) {
      margin-left: 10px;
    }

    #import,
    #export {
      display: inline-block;
    }

    #info tr td:first-child {
      text-align: right;
      background: #f5f5f5;
    }

    #info tr td:last-child {
      background: #ffffff;
    }

    #info tr td {
      border: 1px solid #e7e7e7;
    }

    #info tr td input {
      margin-left: 3px;
    }

    .kinds {
      margin-bottom: 20px;
      margin-left: 10px;
    }

    .kinds span {
      font-size: 20px;
      margin-left: 10px;
    }

    .kinds span:first-child {
      font-size: 24px;
      color: #009688;
    }

    .layui-table-cell .layui-form-checkbox[lay-skin=primary] {
      height: 48px;
    }
    .layui-tab-item ul li:last-child button{
      border: none;
      background: url("./img/u5320.png") no-repeat center center;
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translateX(-50%) translateY(-50%);
    }
    td:hover {
      color: #009688 !important;
    }

    .layui-card .layui-table-view {
      margin-left: 20px;
    }

    .input .layui-input {
      width: 220px !important;
    }

    .layui-form-select .layui-input {
      width: 80px !important;
    }

    .layui-form [lay-ignore] {
      width: 86px;
      height: 24px;
      margin-top: -5px;
    }

    .layui-show select {
      padding-left: 10px;
      margin-left: 18px;
      background: #009688;
      color: #fff;
      position: absolute;
      width: 116px;
      height: 36px;
      display: inline-block;
    }
    .layui-laypage-limits select{
      width: 81px;
      height: 22px;
      position: relative;
      margin-left: 0;
    }

    .rightList {
      margin: 15px 0
    }

    .rightList span {
      margin-right: 20px;
      font-size: 20px;
    }

    .rightList span:first-of-type {
      color: #009986;
      font-size: 24px;
    }

    .right {
      background: url("./img/u6237.png") no-repeat;
      display: inline-block;
      width: 16px;
      height: 16px;
    }

    .err {
      background: url("./img/u6239.png") no-repeat;
      width: 16px;
      height: 16px;
      display: inline-block;
    }

    #item .layui-table-view {
      margin-left: 0px;
    }
    .title{
      margin-left: 15px;
      color: #0178B7;
    }
    #state input{
      margin: 20px;
    }
    #state {
      width: 520px;
      padding-left: 10px;
    }
    .radio p{
      height: 30px;
    }
    #task label{
      display: block;
      margin-top: 10px;
    }
    /* #task label input{
        height: 25px;
    } */
    #task label select,#hotwords label select{
      background: #ffffff;
      color: #000;
      height: 25px;
      position: relative;
    }
    #demo1,#demo2,#demo4,#demo5{
      margin-left: 20px;
    }
    .level2 .noline_open{display: none!important;}
  </style>

  <div class="layui-card layadmin-header">
    <div class="layui-breadcrumb" lay-filter="breadcrumb">
      <a lay-href="">主页</a>
      <a><cite>用户</cite></a>
      <a><cite>后台管理员</cite></a>
    </div>
  </div>

<div class="layui-fluid">
  <div class="layui-row layui-col-space12">
    <div class="layui-col-md3 md3-left">
      <div class="layui-card h100">
        <div class="layui-card-header">栏目管理</div>
        <div class="layui-card-body">
          <div style="width: 300px; overflow: hidden;">
            <ul id="treeDemo" class="ztree"></ul>
          </div>
        </div>
      </div>
    </div>
    <div class="layui-col-md9 md3-right">
      <div class="layui-card h100">
        <div class="layui-card-body">
          <div class="layui-tab">
            <div class="layui-tab-content" style="height: 735px">
              <div class="layui-tab-item layui-show" style="position: relative" id="main">
                <!--<select name="city" lay-verify="required" style="width: 116px;height: 38px;">-->
                  <!--<option value="" disabled selected hidden>全部</option>-->
                  <!--<option value="">首页发布</option>-->
                  <!--<option value="">增量发布</option>-->
                  <!--<option value="">完全发布</option>-->
                  <!--<option value="">栏目设置发布</option>-->
                  <!--<option value="">撤销发布</option>-->
                <!--</select>-->
                <div style="padding-bottom: 10px; display: inline-block; margin-left: 225px;">
                  <button class="layui-btn layuiadmin-btn-admin" id="import">导入</button>
                  <button class="layui-btn layuiadmin-btn-admin" id="export" onclick="exportExc()">导出</button>
                </div>
                <div class="layui-btn-container" style="position: absolute;top:0;">
                  <button class="layui-btn" onclick="add2()">添加</button>
                  <button class="layui-btn" onclick="editByIds()">修改</button>
                  <button class="layui-btn" onclick="delColumn2()">删除</button>
                </div>
                <select name="city" lay-verify="required"
                        style="margin-left: 400px;width: 80px;height: 38px;">
                  <option value="" disabled selected hidden>全部</option>
                </select>
                <form class="layui-form" action=""
                      style="display: inline-block;margin-left: 370px;">
                  <div class="layui-form-item" style="display: inline-block">
                    <div class="layui-input-block" class="input">
                      <input type="text" name="title" required lay-verify="required"
                             placeholder="请输入" autocomplete="off" class="layui-input" id="val">
                    </div>
                  </div>
                </form>
                <button class="layui-btn" style="margin-left:-5px" onclick="search()"><i
                        class="layui-icon">&#xe615;</i></button>
                <ul class="uls" id="first" style="height: 600px;overflow-y: auto">
                </ul>
                <div id="demo8" align="center"></div>
              </div>
              <div class="layui-tab-item" id="detail">
                <!--<select name="city" lay-verify="required" style="width: 116px;height: 38px;">-->
                  <!--<option value="" disabled selected hidden>站点发布</option>-->
                  <!--<option value="">站点首页发布</option>-->
                  <!--<option value="">站点增量发布</option>-->
                  <!--<option value="">站点完全发布</option>-->
                  <!--<option value="">站点更新发布</option>-->
                <!--</select>-->
                <!--<div style="padding-bottom: 10px; display: inline-block; margin-left: 160px;">-->
                  <!--<button class="layui-btn layuiadmin-btn-admin" id="import">导入</button>-->
                  <!--<button class="layui-btn layuiadmin-btn-admin" id="export">导出</button>-->
                <!--</div>-->
                <!--<select name="city" lay-verify="required" style="width: 116px;height: 38px;">-->
                  <!--<option value="" disabled selected hidden>更多</option>-->
                  <!--<option value="">新建站点</option>-->
                  <!--<option value="">修改这个站点</option>-->
                  <!--<option value="">预览这个站点</option>-->
                  <!--<option value="">删除站点</option>-->
                  <!--<option value="">类似创建</option>-->
                  <!--<option value="">同步模板到栏目</option>-->
                  <!--<option value="">文档附件大小</option>-->
                  <!--<option value="">管理关键词</option>-->
                  <!--<option value="">批量删除</option>-->
                <!--</select>-->
                <!--<select name="city" lay-verify="required" style="margin-left: 400px;width: 80px;">-->
                  <!--<option value="" disabled selected hidden>全部</option>-->
                <!--</select>-->
                <!--<form class="layui-form" action=""-->
                      <!--style="display: inline-block;margin-left: 370px;">-->
                  <!--<div class="layui-form-item" style="display: inline-block">-->
                    <!--<div class="layui-input-block" class="input">-->
                      <!--<input type="text" name="title" required lay-verify="required"-->
                             <!--placeholder="请输入标题" autocomplete="off" class="layui-input">-->
                    <!--</div>-->
                  <!--</div>-->
                <!--</form>-->
                <!--<button class="layui-btn" style="margin-left:-5px"><i-->
                        <!--class="layui-icon">&#xe615;</i></button>-->
                <table class="layui-table" lay-even="" lay-skin="row" id="info"
                       style="margin-left: 20px;">
                </table>
              </div>
              <div class="layui-tab-item" id="item2">
                <select name="city" lay-verify="required" style="width: 116px;height: 38px;">
                  <option value="" disabled selected hidden>全部</option>
                  <option value="">首页发布</option>
                  <option value="">增量发布</option>
                  <option value="">完全发布</option>
                  <option value="">栏目设置发布</option>
                  <option value="">撤销发布</option>
                </select>
                <div style="padding-bottom: 10px; display: inline-block; margin-left: 160px;">
                  <button class="layui-btn layuiadmin-btn-admin">新建模板</button>
                  <button class="layui-btn layuiadmin-btn-admin" id="import">导入</button>
                  <button class="layui-btn layuiadmin-btn-admin" id="export">导出</button>
                  <button class="layui-btn layuiadmin-btn-admin">校验</button>
                </div>
                <select name="city" lay-verify="required" style="width: 116px;height: 38px;">
                  <option value="" disabled selected hidden>更多</option>
                  <option value="">栏目排序</option>
                  <option value="">类似创建</option>
                  <option value="">移动栏目</option>
                  <option value="">批量删除</option>
                </select>
                <select name="city" lay-verify="required" style="margin-left: 350px;width: 80px;">
                  <option value="" disabled selected hidden>全部</option>
                </select>
                <form class="layui-form" action=""
                      style="display: inline-block;margin-left: 320px;">
                  <div class="layui-form-item" style="display: inline-block">
                    <div class="layui-input-block" class="input">
                      <input type="text" name="title" required lay-verify="required"
                             placeholder="请输入标题" autocomplete="off" class="layui-input">
                    </div>
                  </div>
                </form>
                <button class="layui-btn" style="margin-left:-5px"><i
                        class="layui-icon">&#xe615;</i></button>
                <div class="kinds">
                  <span>全部模板</span>
                  <span>概览模板</span>
                  <span>细览模板</span>
                  <span>嵌套模板</span>
                  <span>已被使用的</span>
                  <span>未被使用的</span>
                </div>
                <table class="layui-hide" id="test" style="margin-left: 10px;"></table>
                <div id="demo1"></div>
              </div>
              <div class="layui-tab-item">
                <select name="city" lay-verify="required" style="width: 116px;height: 38px;">
                  <option value="" disabled selected hidden>站点发布</option>
                  <option value="">站点首页发布</option>
                  <option value="">站点增量发布</option>
                  <option value="">站点完全发布</option>
                  <option value="">站点更新发布</option>
                </select>
                <div style="padding-bottom: 10px; display: inline-block; margin-left: 160px;">
                  <button class="layui-btn layuiadmin-btn-admin" id="import">新建工作流</button>
                  <button class="layui-btn layuiadmin-btn-admin" id="export">导入工作流</button>
                </div>
                <select name="city" lay-verify="required" style="width: 116px;height: 38px;">
                  <option value="" disabled selected hidden>更多</option>
                  <option value="">新建站点</option>
                  <option value="">修改这个站点</option>
                  <option value="">预览这个站点</option>
                  <option value="">删除站点</option>
                  <option value="">类似创建</option>
                  <option value="">同步模板到栏目</option>
                  <option value="">文档附件大小</option>
                  <option value="">管理关键词</option>
                  <option value="">批量删除</option>
                </select>
                <select name="city" lay-verify="required" style="margin-left: 400px;width: 80px;">
                  <option value="" disabled selected hidden>全部</option>
                </select>
                <form class="layui-form" action=""
                      style="display: inline-block;margin-left: 370px;">
                  <div class="layui-form-item" style="display: inline-block">
                    <div class="layui-input-block" class="input">
                      <input type="text" name="title" required lay-verify="required"
                             placeholder="请输入标题" autocomplete="off" class="layui-input">
                    </div>
                  </div>
                </form>
                <button class="layui-btn" style="margin-left:-5px"><i
                        class="layui-icon">&#xe615;</i></button>
                <table class="layui-hide" id="test1"></table>
                <div id="demo2"></div>
              </div>
              <div class="layui-tab-item" id="item">
                <button class="layui-btn layuiadmin-btn-admin">引入用户</button>
                <button class="layui-btn layuiadmin-btn-admin">引入用户组</button>
                <button class="layui-btn layuiadmin-btn-admin">添加角色</button>
                <button class="layui-btn layuiadmin-btn-admin">编辑</button>
                <button class="layui-btn layuiadmin-btn-admin">删除</button>
                <div class="rightList">
                  <span>站点操作权限</span><span>文档操作权限</span><span>模板操作权限</span><span>工作流操作权限</span>
                </div>
                <table class="layui-hide" id="test3"></table>
                <div id="demo3"></div>
              </div>
              <div class="layui-tab-item">
                <select name="city" lay-verify="required" style="width: 116px;height: 38px;">
                  <option value="" disabled selected hidden>站点发布</option>
                  <option value="">站点首页发布</option>
                  <option value="">站点增量发布</option>
                  <option value="">站点完全发布</option>
                  <option value="">站点更新发布</option>
                </select>
                <div style="padding-bottom: 10px; display: inline-block; margin-left: 160px;">
                  <button class="layui-btn layuiadmin-btn-admin" id="import">导入</button>
                  <button class="layui-btn layuiadmin-btn-admin" id="export">导出</button>
                </div>
                <select name="city" lay-verify="required" style="width: 116px;height: 38px;">
                  <option value="" disabled selected hidden>更多</option>
                  <option value="">新建站点</option>
                  <option value="">修改这个站点</option>
                  <option value="">预览这个站点</option>
                  <option value="">删除站点</option>
                  <option value="">类似创建</option>
                  <option value="">同步模板到栏目</option>
                  <option value="">文档附件大小</option>
                  <option value="">管理关键词</option>
                  <option value="">批量删除</option>
                </select>
                <select name="city" lay-verify="required" style="margin-left: 400px;width: 80px;" id="select">
                  <option value="" disabled selected hidden>全部</option>
                </select>
                <form class="layui-form" action=""
                      style="display: inline-block;margin-left: 370px;">
                  <div class="layui-form-item" style="display: inline-block">
                    <div class="layui-input-block" class="input">
                      <input type="text" name="title" required lay-verify="required"
                             placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                  </div>
                </form>
                <button class="layui-btn" style="margin-left:-5px"><i
                        class="layui-icon">&#xe615;</i></button>

                >
                <div class="box" style="overflow:auto;height: 600px;;">
                  <div  id="state">
                    <div class="title">可发布文档的状态：</div>
                    <div class="input">
                      <input type="checkbox">再审
                      <input type="checkbox">撤销审批中
                      <input type="checkbox">已受理
                      <input type="checkbox">未受理
                      <input type="checkbox">正常
                      <input type="checkbox">已签
                      <input type="checkbox">已发&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      <input type="checkbox">已编&nbsp;&nbsp;&nbsp;&nbsp;
                      <input type="checkbox">新稿
                    </div>
                    <div class="selectState">
                      <span style="margin-left: 20px;">文档被引用到当前站点后的状态：</span>
                      <select name="" id="" style="background: #ffffff;color:#000;margin-top: -5px;position: relative;">
                        <option value="0">新稿</option>
                        <option value="1">已编</option>
                        <option value="2">返工</option>
                        <option value="3">已否</option>
                        <option value="4">已签</option>
                        <option value="5">正审</option>
                      </select>
                    </div>
                    <div class="radio">
                      <p><input type="radio">不设置计划发布</p>
                      <p><input type="radio">每天运行一次</p>
                      <p><input type="radio">每天运行多次</p>
                    </div>
                  </div>
                  <div id="task" style="margin: 20px 0 0 10px;">
                    <div class="title">定时任务：</div>
                    <form action="" style="margin-left: 20px; margin-top: 10px;">
                      <label>定时全量发布启用状态:
                        <input type="radio">&nbsp;启用
                        <input type="radio">&nbsp;停用
                      </label>
                      <label>定时全量发布起始时间:
                        <input type="date">
                      </label>
                      <label>定时发布执行周期:
                        每隔&nbsp;<input type="text" style="height: 25px!important;width: 71px;">
                        <select name="" id="" style="height: 29px;width: 71px;">
                          <option value="hour">小时</option>
                          <option value="minutes">分钟</option>
                        </select>
                      </label>
                      <label>启用定时下线:
                        <input type="radio">&nbsp;启用
                        <input type="radio">&nbsp;停用
                      </label>
                      <label>定时全量发布起始时间:
                        <input type="text">&nbsp;月
                      </label>
                    </form>
                  </div>
                  <div id="search" style="margin: 20px 0 0 10px;">
                    <div class="title">全文检索设置:</div>
                    <form action="" style="margin: 10px 0 0 20px;">
                      <label>是否开启检索:
                        <input type="radio">&nbsp;启用
                        <input type="radio">&nbsp;停用
                      </label>
                    </form>
                  </div>
                  <div id="hotwords" style="margin: 20px 0 0 10px;">
                    <div class="title">热词设置</div>
                    <form action="" style="margin: 10px 0 0 20px;">
                      <label>热词分类：
                        <select name="" id="">
                          <option value="1">分类1</option>
                          <option value="2">分类2</option>
                        </select>
                      </label>
                    </form>
                  </div>
                  <div id="extension" style="margin: 20px 0 0 10px;">
                    <div class="title">扩展字段设置</div>
                    <form action="" style="margin: 10px 0 0 20px;">
                      <label>扩展字段：
                        <input type="text">
                      </label>
                    </form>
                  </div>
                </div>

              </div>
              <div class="layui-tab-item">
                <select name="city" lay-verify="required" style="width: 116px;height: 38px;">
                  <option value="" disabled selected hidden>发布</option>
                  <option value="">首页发布</option>
                  <option value="">增量发布</option>
                  <option value="">完全发布</option>
                  <option value="">栏目设置发布</option>
                  <option value="">撤销发布</option>
                </select>
                <div style="padding-bottom: 10px; display: inline-block; margin-left: 160px;">
                  <button class="layui-btn layuiadmin-btn-admin" id="import">新建分发点</button>
                  <button class="layui-btn layuiadmin-btn-admin">启用</button>
                  <button class="layui-btn layuiadmin-btn-admin" id="export">禁用</button>
                </div>
                <select name="city" lay-verify="required" style="width: 116px;height: 38px;">
                  <option value="" disabled selected hidden>更多</option>
                  <option value="">新建站点</option>
                  <option value="">修改这个站点</option>
                  <option value="">预览这个站点</option>
                  <option value="">删除站点</option>
                  <option value="">类似创建</option>
                  <option value="">同步模板到栏目</option>
                  <option value="">文档附件大小</option>
                  <option value="">管理关键词</option>
                  <option value="">批量删除</option>
                </select>
                <select name="city" lay-verify="required" style="margin-left: 400px;width: 80px;">
                  <option value="" disabled selected hidden>全部</option>
                </select>
                <form class="layui-form" action=""
                      style="display: inline-block;margin-left: 370px;">
                  <div class="layui-form-item" style="display: inline-block">
                    <div class="layui-input-block" class="input">
                      <input type="text" name="title" required lay-verify="required"
                             placeholder="请输入标题" autocomplete="off" class="layui-input">
                    </div>
                  </div>
                </form>
                <button class="layui-btn" style="margin-left:-5px"><i
                        class="layui-icon">&#xe615;</i></button>
                <div class="rightList">
                  <span style="margin-left: 15px;">全部服务</span><span>已启用</span><span>未启用</span>
                </div>
                <table class="layui-hide" id="test4"></table>
                <div id="demo4"></div>
              </div>
              <div class="layui-tab-item">
                <!--<select name="city" lay-verify="required" style="width: 116px;height: 38px;">-->
                  <!--<option value="" disabled selected hidden>站点发布</option>-->
                  <!--<option value="">站点首页发布</option>-->
                  <!--<option value="">站点增量发布</option>-->
                  <!--<option value="">站点完全发布</option>-->
                  <!--<option value="">站点更新发布</option>-->
                <!--</select>-->
                <div style="padding-bottom: 10px; display: inline-block; margin-left: 20px;">
                  <button class="layui-btn layuiadmin-btn-admin" id="import" onclick="reset()">还原</button>
                  <button class="layui-btn layuiadmin-btn-admin" id="export" onclick="clearAllSites()">清空回收站</button>
                </div>
                <!--<select name="city" lay-verify="required" style="width: 116px;height: 38px;">-->
                  <!--<option value="" disabled selected hidden>更多</option>-->
                  <!--<option value="">新建站点</option>-->
                  <!--<option value="">修改这个站点</option>-->
                  <!--<option value="">预览这个站点</option>-->
                  <!--<option value="">删除站点</option>-->
                  <!--<option value="">类似创建</option>-->
                  <!--<option value="">同步模板到栏目</option>-->
                  <!--<option value="">文档附件大小</option>-->
                  <!--<option value="">管理关键词</option>-->
                  <!--<option value="">批量删除</option>-->
                <!--</select>-->
                <select name="city" lay-verify="required" style="margin-left: 400px;width: 80px;">
                  <option value="" disabled selected hidden>全部</option>
                </select>
                <form class="layui-form" action="#"
                      style="display: inline-block;margin-left: 370px;">
                  <div class="layui-form-item" style="display: inline-block">
                    <div class="layui-input-block" class="input">
                      <input type="text" id="ColumnName" name="title" required lay-verify="required"
                             placeholder="请输入标题" autocomplete="off" class="layui-input">
                    </div>
                  </div>
                </form>
                <button class="layui-btn" style="margin-left:-5px" onclick="getDelColumns(1,10)"><i
                        class="layui-icon">&#xe615;</i></button>
                <table class="layui-hide" id="test2" lay-filter="test"></table>
                <div id="demo5"></div>
              </div>
            </div>
            <ul class="layui-tab-title">
              <li class="layui-this white" id="first1">栏目管理</li>
              <li class="black" id="infos" onclick="getColumnByIds()">基本信息</li>
              <li class="black" onclick="getTemplList(1,10)">风格管理</li>
              <li class="black">工作流管理</li>
              <li class="black">权限管理</li>
              <li class="black">高级属性</li>
              <li class="black">栏目分发</li>
              <li class="black" onclick="getDelColumns(1,10)">栏目回收站</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  <script type="text/html" id="columnTmpl" >
    {{#layui.each(d, function(index, item){}}
      {{# if(d.length>0){}}
    <li>
      <form class="layui-form" action="">
        <div class="layui-form-item" pane="">
          <div class="layui-input-block">
            <input type="checkbox" name="ids" lay-skin="primary" id="check" value="{{item.id}}">
          </div>
        </div>
        <div class="chanelName">{{item.name}}</div>
      </form>
      <div class="bottom">
        <img src="./img/u5722.png" alt="" srcset="" style="margin-left:40px" onclick="editColumn('{{item.id}}')">
        <img src="./img/u5725.png" alt="" srcset="" onclick="getColumnById('{{item.id}}')">
        <img onclick="delColumn1('{{item.id}}',1)" src="./img/u5729.png" alt="" srcset="">
      </div>
    </li>
     {{#} }}
    {{#}) }}
    <li>
      <button onclick="add2('{{item.id}}')" type="button" class="layui-btn"></button>
    </li>
  </script>

  <!--模板类型显示-->
  <script type="text/html" id="typeDemo">
    {{# if(d.temptype==1){ }}
    细览
    {{#} else if(d.temptype==2){ }}
    概览
    {{#} else { }}
    其他
    {{#} }}
  </script>
<script>
   var chnlObj,colimnObj;
  $(function () {
      getTreeData();
      getFirstColumn(1,0);
  })
  function reset(){
      var data = checkChecked('test2');
      if(data){
          delColumn1(data,0)
      }
  }
   function  clearAllSites() {
//      console.log(siteObj);
       if(chnlObj.length === 0) return;

       layer.alert("确认清空回收站吗？",function () {
           clearSites()
       })
   }
   function delColumnTrue(delId) {
       $.ajax({
           type:"delete",
           url:"/manage/programa/"+delId,
           dataType:"json",
           success:function (data) {
               if(data.success){
                   layer.closeAll();
                   getDelColumns(1,10);
                   getTreeData();
               }else{
                   layer.alert(data.msg);
               }
           },
           error:function (data) {
               layer.alert(data.msg)
           }
       })
   }
   function clearSites(){
       ajax('/manage/programa/delPrograma','post').then(res=>{
           if(res.success){
           layer.closeAll();
           getDelColumns(1,10)
           getFirstColumn(1,0)
           getTreeData();
       }
   })
   }
  function search() {
//      console
      var keyword = $("#val").val();

      if (keyword) {
          var Json = {
              entity: {
                  name: keyword
              },
              pager: {currNum: 0,
                  current: 1, size: 10}
          }

          ajax("/manage/programa/list", "post", JSON.stringify(Json)).then(res => {
//              console.log(res);
          if(res.success){

              searchPage(res.obj.records)
          }
      }).
          catch(res => {}
      )
      }else{
          getFirstColumn(1,0);
      }

  }
  function searchPage(data) {
      console.log(data)
      layui.laytpl($("#columnTmpl").html()).render(data,function(html){
          $("#first").html(html);
          layui.form.render();
      })
  }
  function add2() {
      var that=this;
      siteIndex = layer.open({
          type: 1,
          area: ['800px', '582px'],
          shade: 0.3,
          title:'添加栏目',
          maxmin: false,
          content: '<div id="siteFormDiv"></div>'
      })
      layui.laytpl($("#siteTpl1").html()).render({}, function(html){
          $("#siteFormDiv").html(html);
          layui.form.render();
      })
      ajax("/manage/site/list","post",JSON.stringify({pager:{current:1,size:10}})).then(res=>{
          var records = res.obj.records;
      var companys;
      for(var i in records){
          companys += '<option value="'+records[i].id+'">'+records[i].name+'</option>'
      }
      $("#companys").append(companys);


      layui.form.val("siteForm",res.obj);
      layui.form.render();
  })
  }
  //导入栏目
  layui.use('upload', function(){
      var $ = layui.jquery
          ,upload = layui.upload;


      //指定允许上传的文件类型
      upload.render({
          elem: '#import'
          ,url: '/manage/programa/import'
          ,accept: 'file' //普通文件
          ,done: function(res){
              console.log(res)
          }
      });
  });

  //下拉框选中事件
  function getChange() {
      var obj= document.getElementById("changeId");
      var value=obj.options[obj.selectedIndex].value;
      if(value==='批量删除'){
          delByIds();
      }
      obj.value="更多";
  }
  function editByIds() {
      var data = document.getElementsByName("ids")
      var ids="";
      var count=0;
      for (var i in data){
          if (data[i].checked){
              if (count!==0){
                  ids+=",";
              }
              ids+=data[i].value;
              count++;

          }

      }
      if (ids===""){
          layer.alert("请选择要修改的数据")
          return false;
      }

      editColumn("",ids)


  }
  function editColumn(id,ids) {
//      判断修改单个还是多个
      var id1 = id?id:ids;
      if(ids&&id1.split(",").length>1){
          layer.alert('不允许同时修改多个栏目');
          return;
      }
      $.ajax({
          type:"get",
          url:"/manage/programa/"+id1,
          dataType:"json",
          success:function (data){
              if(data.success){
                    console.log(data.obj);
                   layer.open({
                      type: 1,
                      area: ['800px', '582px'],
                      shade: 0.3,
                      title:'修改栏目',
                      maxmin: false,
                      content: '<div id="siteFormDiv"></div>'
                  })
                  layui.laytpl($("#siteTpl1").html()).render({}, function(html){
                      $("#siteFormDiv").html(html);
                      layui.form.val("siteForm",data.obj);
                      layui.form.render();
                      ajax("/manage/site/list","post",JSON.stringify({pager:{current:1,size:10}})).then(res=>{
                          var records = res.obj.records;
                      var companys;
                      for(var i in records){
                          companys += '<option value="'+records[i].id+'">'+records[i].name+'</option>'
                      }
                      $("#companys").append(companys);
                      console.log(data.obj);

                      layui.form.val("siteForm",{siteId:data.obj.siteId});
                      layui.form.render();
                  })
                  })


              }else{
                  layer.alert(data.msg);
              }
          }
      })
  }

  function delColumn() {
      var data = document.getElementsByName("ids")
      var ids="";
      var count=0;
      for (var i in data){
          if (data[i].checked){
              if (count!==0){
                  ids+=",";
              }
              ids+=data[i].value;
              count++;

          }

      }
      if (ids===""){
          layer.alert("请选择要删除的数据")
          return false;
      }
      if(confirm("是否删除")){
          $.ajax({
              type:"delete",
              url:"/manage/programa/"+ids,
              dataType:"json",
              success:function (data) {
//                  layer.alert(data.msgConfig)
                  if(data.success){
                      getFirstColumn(1,0);
                  }
              },
              error:function (data) {
                  layer.alert(data.msg)
              }

          })
      }
  }
  function delColumn2() {
      var data = document.getElementsByName("ids")
      var ids="";
      var count=0;
      for (var i in data){
          if (data[i].checked){
              if (count!==0){
                  ids+=",";
              }
              ids+=data[i].value;
              count++;

          }

      }
      if (ids===""){
          layer.alert("请选择要回收的数据")
          return false;
      }
      delColumn1(ids,1)
  }
  function delColumn1(delId,status) {
      $.ajax({
          type:"get",
          url:"/manage/programa/updateStatus?ids="+delId+"&status="+status,
          dataType:"json",
          success:function (data) {
              if(data.success){
                  layer.closeAll();
                  getDelColumns(1,10)
                  getFirstColumn(1,0);
                  getTreeData(status,delId)
//                  if(status === 1){
//
//                      var arr =colimnObj.filter((item)=>{
//                          console.log(item.id)
//                      })
//                      console.log(delId);
//                  }

              }
          },
          error:function (data) {
              layer.alert(data.msg)
          }
      })
  }
  function delByIds() {
    var data = document.getElementsByName("ids");
    var ids="";
    var count=0;
    for(var i in data){
        if(data[i].checked){
            if (count!=0){
                ids+=",";
            }
            ids+=data[i].value;
            count++;
        }

    }
    if (ids===""){
          layer.alert("请选择要删除的数据")
          return false;
    }
    if (confirm("是否确定删除")){
        var jsondata={
            "ids":ids
        }
        $.ajax({
            type:"get",
            url:"/manage/programa/delByIds",
            contentType:"application/json",
            data:jsondata,
            dataType:"json",
            success:function (data) {
                getFirstColumn(1,0);
            },
            error:function (data) {
                layer.alert(data.msg)
            }
        })
    }


  }

  //导出
  function exportExc() {
      window.location.href="/manage/programa/export?current=1&size=10";
  }


  //获取顶级栏目
  function getFirstColumn(pageNo,id) {
      var jsondata = {
          "entity":{
              "siteId":id,
              status:0
          },
          "pager": {
              "current": pageNo,
              "size": 15
          }
      }
      $.ajax({
          type:"POST",
          url:"/manage/programa/getFirstColumn",
          contentType:"application/json",
          data:JSON.stringify(jsondata),
          dataType:"json",
          success:function (data) {
             console.log(data.obj.records.length)
            layui.laytpl($("#columnTmpl").html()).render(data.obj.records,function(html){
                $("#first").html(html);
                layui.form.render();
            })
//              siteId=data.obj.records[0].id;
              var laypage = layui.laypage;
              laypage.render({
                  elem: 'demo8',
                  count: data.obj.total, //数据总条数
                  limit: 15, //每页条数
                  curr: data.obj.current, //当前页码
                  jump: function (obj, first) {
                      if (!first) {
                          console.log(obj);
                          pageNo = obj.curr
                          getFirstColumn(pageNo,id)
                      }
                  }
              });

          },
          error:function () {
              console.log(data.msg)
          }

      })
  }

  //模板
  function getTemplList(pageNo,size) {
      var jsondata = {
          "pager":{"current":pageNo,"size":size}
      }
      $.ajax({
          type:"post",
          url:"/manage/template/list",
          contentType:'application/json',
          data:JSON.stringify(jsondata),
          dataType: 'json',
          success: function(data){
              if(data.success&&data.obj.records.length>0){
                console.log(data);
                //console.log(data.obj.total)
                  layui.use(['laypage','table'], function(){
                      var table = layui.table,
                          laypage=layui.laypage;
                      table.render({
                          elem: '#test'
                          ,data:data.obj.records
                          ,cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                          ,cols: [[
                              {type:'checkbox',width:'5%',field:"id"}
                              ,{type:'numbers',width:'6%',title:'序号',align: "center"}
                              ,{field:'temptype',width:'10%', title: '类型',templet: '#typeDemo', align: "left"}
                              ,{field:'tempname', width:'15%', title: '模板名称', align: "left"}
                              ,{field:'siteid',width:'28%', title:'所属位置', align: "left"}
                              ,{field:'lastmodifieduser',width:'10%',  title: '最近修改人', align: "left"}
                              ,{field:'lastmodifiedtime',width:'20%', title:'修改时间', align: "left"}
                              ,{field:'', width:'5%', title: '预览', align: "left"}
                          ]]
                      });
                      table.on('row(LAY-app-content-tags)', function(obj){
                          var data = obj.data;
                          //标注选中样式
                          obj.tr.addClass('layui-table-click').siblings().removeClass('layui-table-click');
                      });
                      laypage.render({
                          elem: 'demo1'
                          ,count: data.obj.total
                          ,curr:data.obj.current
                          ,limit:data.obj.size
                          ,layout: ['count', 'prev', 'page', 'next', 'limit', 'refresh', 'skip']
                          ,jump: function(obj,first){
                              if(!first){
                                  // console.log(obj)
                                  pageNo=obj.curr
                                  size=obj.limit
                                  getTemplList(pageNo,size)

                              }

                          }
                      });
                  });
              }
          },
          error: function() {
              alert("出错啦!!!")
          }
      })
  }
  //回收站
  function getDelColumns(pageNo,size) {
      var jsondata = {
          "pager":{"current":pageNo,"size":size},
          "entity":{"status":1,"name":document.getElementById("ColumnName").value}
      }
      $.ajax({
          type:"post",
          url:"/manage/programa/getDelList",
          contentType:'application/json',
          data:JSON.stringify(jsondata),
          dataType: 'json',
          success: function(data){
              if(data.success||data.obj.records.length>0){
                  console.log(data.obj.records)
                  chnlObj =data.obj.records;
                  layui.use(['laypage','table'], function(){
                      var table = layui.table,
                          laypage=layui.laypage;
                      table.render({
                          elem: '#test2'
                          ,data:data.obj.records
                          ,cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                          ,cols: [[
                              {type:'checkbox',field:"id"}
                              ,{type:'numbers',title:'序号',align:"center",width:'77'}
                              ,{field:'name', title: '显示名称',align:"left",width:'200'}
                              ,{field:'skuNumber', title: '唯一标识',align:"left",width:'200'}
                              ,{field:'chnlDataPath',title:'原位置',align:"left",width:'200'}
                              ,{field:'operTime', title: '删除时间',align:"left",width:'200'}
                              ,{field:'operUser',title:'删除者',align:"left",width:'200'}
                              ,{field:'look', width:130, title: '操作',toolbar: '#barDemo',align:"center"}
                          ]]
                      });
                      table.on('row(LAY-app-content-tags)', function(obj){
                          var data = obj.data;
                          //标注选中样式
                          obj.tr.addClass('layui-table-click').siblings().removeClass('layui-table-click');
                      });
                      layui.table.on('tool(test)', function(obj) { //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                          var data = obj.data; //获得当前行数据
                          var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                          var tr = obj.tr; //获得当前行 tr 的DOM对象
                          console.log(data);
                          if (layEvent === 'delete') { //查看
                              layer.alert("确定删除:[" + data.name + "]?", function () {
                                    delColumnTrue(data.id);

                              })
                          } else if (layEvent === 'reset') {
                              layer.alert("确定还原:[" + data.name + "]?", function () {
                                  resetColumn(data.id);
                              })
                          }
                      })
                      laypage.render({
                          elem: 'demo5'
                          ,count: data.obj.total
                          ,curr:data.obj.current
                          ,limit:data.obj.size
                          ,layout: ['count', 'prev', 'page', 'next', 'limit', 'refresh', 'skip']
                          ,jump: function(obj,first){
                              if(!first){
                                 // console.log(obj)
                                  pageNo=obj.curr
                                  size=obj.limit
                                  getDelColumns(pageNo,size)

                              }

                          }
                      });
                  });
              }
          },
          error: function() {
              alert("出错啦!!!")
          }
      })
  }
  function resetColumn(id) {
      delColumn1(id,0)
  }
  var zNodes;
  function getTreeData(status,id){
      $.ajax({
          type:"POST",
          url:"/manage/programa/getTreeData",
          contentType:"application/json",
          dataType:"json",
          async:false,
          success:function (data) {
              console.log(data.obj)
              zNodes=data.obj;
              zTreeObj = $.fn.zTree.init($("#treeDemo"), settingss, zNodes); //初始化树
              zTreeObj.expandAll(true); //true 节点全部展开、false节点收缩
          },
          error:function (data) {
              console.log(data.msg)
          }
      })
  }
  layui.use(['laypage', 'layer'], function(){
    var laypage = layui.laypage
            ,layer = layui.layer;
    //开启HASH
    laypage.render({
      elem: 'demo1'
      ,count: 13
      ,layout: ['count', 'prev', 'page', 'next', 'limit', 'refresh', 'skip']
      ,jump: function(obj){
        console.log(obj)
      }
    });
    laypage.render({
      elem: 'demo2'
      ,count: 5
      ,layout: ['count', 'prev', 'page', 'next', 'limit', 'refresh', 'skip']
      ,jump: function(obj){
        console.log(obj)
      }
    });
    laypage.render({
      elem: 'demo3'
      ,count: 8
      ,layout: ['count', 'prev', 'page', 'next', 'limit', 'refresh', 'skip']
      ,jump: function(obj){
        console.log(obj)
      }
    });
    laypage.render({
      elem: 'demo4'
      ,count: 1
      ,layout: ['count', 'prev', 'page', 'next', 'limit', 'refresh', 'skip']
      ,jump: function(obj){
        console.log(obj)
      }
    });

  })
  layui.use('form', function () { //声明使用layUI的form
    var form = layui.form;
    form.render(); //刷新所有渲染效果，也可以单独熟悉某个效果
    //监听提交
    form.on('submit(formDemo)', function (data) {
      layer.msg(JSON.stringify(data.field));
      return false;
    });
  });
  var settingss = {
    data: {
      simpleData: {
        enable: true, //true 、 false 分别表示 使用 、 不使用 简单数据模式
        idKey: "id", //节点数据中保存唯一标识的属性名称
        pIdKey: "parentId", //节点数据中保存其父节点唯一标识的属性名称
        rootPId: -1 //用于修正根节点父节点数据，即 pIdKey 指定的属性值
      },
      key: {
        name: "name" //zTree 节点数据保存节点名称的属性名称  默认值："name"
      }
    },
    view: {
      showLine: false,
      showIcon: true,
    },
    callback:{
        onClick:zTreeOnClick
    }
  };
  function zTreeOnClick(event, treeId, treeNode) {
      getFirstColumn(1,treeNode.id)
  }


  layui.use('element', function () {
    var $ = layui.jquery,
            element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块

    //触发事件
    var active = {
      tabAdd: function () {
        //新增一个Tab项
        element.tabAdd('demo', {
          title: '新选项' + (Math.random() * 1000 | 0) //用于演示
          ,
          content: '内容' + (Math.random() * 1000 | 0),
          id: new Date().getTime() //实际使用一般是规定好的id，这里以时间戳模拟下
        })
      },
      tabDelete: function (othis) {
        //删除指定Tab项
        element.tabDelete('demo', '44'); //删除：“商品管理”


        othis.addClass('layui-btn-disabled');
      },
      tabChange: function () {
        //切换到指定Tab项
        element.tabChange('demo', '22'); //切换到：用户管理
      }
    };

    $('.site-demo-active').on('click', function () {
      var othis = $(this),
              type = othis.data('type');
      active[type] ? active[type].call(this, othis) : '';
    });
    $("li").on('click', function (e) {
      var others = $(this).siblings();

      if ($(this).hasClass('black')) {

        $(this).removeClass('black');
        $(this).addClass('white');
        others.addClass('black');
      }
    })
    //Hash地址的定位
    var layid = location.hash.replace(/^#test=/, '');
    element.tabChange('test', layid);

    element.on('tab(test)', function (elem) {
      location.hash = 'test=' + $(this).attr('lay-id');
    });

  });

  layui.use('table', function () {
    var table = layui.table;
    table.render({
      elem: '#test1',
      data: [{
        number: 1,
        type: "业务部门人才招聘栏目发文工作流",
        name: "业务部门人才招聘栏目发文工作流",
        location: "中科院[站点-10]",
        updators: "2019-01-09 16:52:15",
        time: "admin",
        look: ""
      },
        {
          number: 2,
          type: "业务部门党建工作栏目发文工作流",
          name: "业务部门党建工作栏目发文工作流",
          location: "中科院[站点-10]",
          updators: "2019-01-08 15:12:15",
          time: "admin",
          look: ""
        },
        {
          number: 3,
          type: "业务部门国标意见征求栏目发文工作流",
          name: "业务部门国标意见征求栏目发文工作流",
          location: "中科院[站点-10]",
          updators: "2019-01-08 10:52:36",
          time: "admin",
          look: ""
        },
        {
          number: 4,
          type: "职能部门发文工作流",
          name: "",
          location: "中科院[站点-10]",
          updators: "2019-01-07 14:52:00",
          time: "admin",
          look: ""
        },
        {
          number: 5,
          type: "业务部门综合新闻栏目发文工作流",
          name: "业务部门综合新闻栏目发文工作流",
          location: "中科院[站点-10]",
          updators: "2019-01-07 10:12:15",
          time: "admin",
          look: ""
        }
      ],
      cols: [
        [{
          type: 'checkbox'
        }, {
          field: 'number',
          width: 80,
          title: '序号',
          align: "center"
        }, {
          field: 'type',
          width: 150,
          title: '工作流名称',
          align: "left"
        }, {
          field: 'name',
          width: 280,
          title: '工作流描述',
          align: "left"
        }, {
          field: 'location',
          width: 160,
          title: '所属位置',
          align: "left"
        }, {
          field: 'updators',
          title: '创建时间',
          width: 200,
          align: "left"
        }, {
          field: 'time',
          width: 150,
          title: '创建者',
          align: "left"
        }, {
          field: 'look',
          width: 100,
          title: '配置情况',
          templet: "#pic1",
          align: "left"
        }]
      ]
    });
    table.render({
      elem: '#test3',
      data: [{
        id: 1,
        username: "用户组",
        sex: "办公室",
        city: "1",
        sign: "1",
        experience: "0",
        score: "1",
        classify: "1",
        wealth: "1",
        classifys: "1",
        wealths: "1"
      },
        {
          id: 2,
          username: "用户",
          sex: "分院",
          city: "0",
          sign: "0",
          experience: "0",
          score: "0",
          classify: "0",
          wealth: "0",
          classifys: "0",
          wealths: "0"
        },
        {
          id: 3,
          username: "用户",
          sex: "IHIJI",
          city: "1",
          sign: "1",
          experience: "0",
          score: "1",
          classify: "1",
          wealth: "1",
          classifys: "1",
          wealths: "1"
        },
        {
          id: 4,
          username: "角色",
          sex: "编辑人员",
          city: "1",
          sign: "1",
          experience: "0",
          score: "1",
          classify: "1",
          wealth: "1",
          classifys: "1",
          wealths: "1"
        },
        {
          id: 5,
          username: "角色",
          sex: "领导",
          city: "1",
          sign: "1",
          experience: "0",
          score: "1",
          classify: "1",
          wealth: "1",
          classifys: "1",
          wealths: "1"
        },
        {
          id: 6,
          username: "角色",
          sex: "网站发布人员",
          city: "1",
          sign: "1",
          experience: "0",
          score: "1",
          classify: "1",
          wealth: "1",
          classifys: "1",
          wealths: "1"
        },
        {
          id: 7,
          username: "角色",
          sex: "办公室编辑人员",
          city: "1",
          sign: "1",
          experience: "0",
          score: "1",
          classify: "1",
          wealth: "1",
          classifys: "1",
          wealths: "1"
        },
        {
          id: 8,
          username: "角色",
          sex: "办公室编辑人员",
          city: "1",
          sign: "1",
          experience: "0",
          score: "1",
          classify: "1",
          wealth: "1",
          classifys: "1",
          wealths: "1"
        }
      ],
      cols: [
        [ {type:"checkbox"},{
          field: 'id',
          width: 85,
          title: '序号',
            align:"center"
        }, {
          field: 'username',
          width: 125,
          title: '类型',
            align:"left"
        }, {
          field: 'sex',
          width: 135,
          title: '名称',
            align:"left"
        }, {
          field: 'city',
          width: 220,
          title: '修改站点',
          templet: "#pic2",
            align:"center"
        }, {
          field: 'sign',
          title: '删除站点',
          width: 220,
          templet: "#pic3",
            align:"center"
        }, {
          field: 'experience',
          width: 220,
          title: '预览站点',
          templet: "#pic4",
            align:"center"
        }, {
          field: 'wealth',
          width: 220,
          title: '设置权限',
          templet: "#pic7",
            align:"center"
        }
        ]
      ]
    });
    table.render({
      elem: '#test4'
      ,data:[{id:1,username:"已启用",sex:"SFTP",city:"/home/zhongkeyuan/",sign:"10.2.1.168",experience:"admin"}]
      ,cols: [[
        {type:'checkbox'}
        ,{field:'id', width:80, title: '序号', align: "center"}
        ,{field:'username', width:100, title: '状态', align: "left"}
        ,{field:'sex', width:150, title: '分发类型', align: "left"}
        ,{field:'city', width:200, title: '存放目录', align: "left"}
        ,{field:'sign', title: '服务器地址', width: 200, align: "left"}
        ,{field:'experience', width:200, title: '用户名', align: "left"}
        ,{field:'score', width:190, title: '操作',templet:"#operation"}
      ]]
    });
  });
</script>
  <script>
      layui.form.on("submit(addMetadata)",function (data) {
          console.log(data.field);
          var id=data.field.id;
          if(id===""||id===null){
              var type = "post";
              var url = "/manage/programa";
              var msg="添加成功";
          }
          else{
              type="put";
              url="/manage/programa/"+id;
              msg="修改成功";
          }
          ajax(url,type,JSON.stringify(data.field)).then(res=>{
              if(res.success){
              layer.closeAll();
              getFirstColumn(1,0);
              getTreeData()
//              window.location.reload();
//             debugger;

          }else{
              layer.alert(res.msg)
          }
      }).catch(res=>{
          })
          return false;
      })
      function getColumnByIds() {
          getColumnById(siteId)
      }
      function getColumnById(id) {

          $.ajax({
              type:"GET",
              url:"/manage/programa/"+id,
              dataType:"json",
              success:function (data) {
                  if(data.success){

                      var d=[];
                      d.push(data.obj)
                      console.log(d);
                      layui.laytpl($("#columnDetail").html()).render(d,function(html){
                          $("#info").html(html);
                          layui.form.render();
                      })
                      document.getElementById("main").className="layui-tab-item";
                      document.getElementById("detail").className="layui-tab-item layui-show";
                      $("#infos").removeClass('black').addClass("layui-this white");
                      $("#first1").removeClass("layui-this white").addClass('black');
                  }else{
                      layer.alert(data.msg);
                  }
                  //layer.element.tabChange('demo','baseInfo');

              },
              error:function (data) {
                  console.log(data.msg)
              }
          })

      }
  </script>
  <!--基本信息-->
  <script type="text/html" id="columnDetail">
    {{#layui.each(d,function(index,item){}}
    <colgroup>
      <col width="50">
      <col width="150">
      <col>
    </colgroup>
    <tbody>
    <tr>
      <td>唯一标识：</td>
      <td></td>
    </tr>
    <tr>
      <td>显示名称：</td>
      <td>{{item.name}}</td>
    </tr>
    <tr>
      <td>选择元数据</td>
      <td></td>
    </tr>
    <tr>
      <td>站点目录名：</td>
      <td>{{item.chnlDataPath}}</td>
    </tr>
    <tr>
      <td>后一栏目</td>
      <td></td>
    </tr>
    <tr>
      <td>备注：</td>
      <td>{{item.chnlDesc}}</td>
    </tr>

    <tr>
      <td>类型：</td>
      <td></td>
    </tr>
    <tr>
      <td>生成静态文件：</td>
      <td></td>
    </tr>
    <tr>
      <td>内容类型：</td>
      <td></td>
    </tr>
    <tr>
      <td>检索条件：</td>
      <td></td>
    </tr>
    <tr>
      <td>工作流设置：</td>
      <td></td>
    </tr>
    </tbody>
    <!--{{#}) }}-->
  </script>
  <script type="text/html"  id="siteTpl1">

    <form class="layui-form" lay-filter="siteForm">
      <div class="layui-card">
        <div class="layui-card-body">
          <div class="layui-form-item">
            <label class="layui-form-label">唯一标识:</label>
            <div class="layui-input-block" style='width:345px;display:inline-block;margin-left:0'>
              <input type="text" name="code" required  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
            </div>
            <span style="color:red">（英文）同一个站点只允许一个名称</span>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">显示名称:</label>
            <div class="layui-input-block" style='width:345px'>
              <input type="text" name="name" required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">所在目录:</label>
            <div class="layui-input-block" style='width:345px; display:inline-block; margin-left:0'>
              <input type="text" name="chnlDataPath" required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
            </div>
            <span style="color:red">（英文）请不要以符号/“开头</span>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label" >描述:</label>
            <div class="layui-input-block" style='width:345px'>
              <input type="text" name="chnlDesc"  required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
            </div>
          </div>
          <div class="layui-form-item" id="companys2">
            <label class="layui-form-label">所属站点:</label>
            <div class="layui-input-block" style="width:345px">
              <select name="siteId" id="companys" style="width:345px"  required lay-verify="required">


                <option value="" selected>请选择站点</option>
              </select>
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">首页模板:</label>
            <div class="layui-input-block" style="height: 30px;padding-top: 10px;cursor: pointer;">
              <i class="layui-icon layui-icon-app" onclick="select('首页')"></i>
              请选择模板
            </div>
          </div>
          <!--<div class="layui-form-item">-->
            <!--<label class="layui-form-label">前一个站点:</label>-->
            <!--<div class="layui-input-block" style="width:345px">-->
              <!--<select name="chnlOrder">-->
                <!--<option value="" disabled selected hidden>请选择</option>-->
                <!--<option value="">————最前面————</option>-->
                <!--<option value="0">中科院档案馆</option>-->
                <!--<option value="1">————最后面————</option>-->
              <!--</select>-->
            <!--</div>-->
          <!--</div>-->
          <input type="hidden" name="id">
          <input type="hidden" name="status" value="0">
          <div class="layui-form-item">
            <div class="layui-input-block" style="margin-left: 135px;">
              <button type="button" class="layui-btn" lay-submit lay-filter="addMetadata">确定</button>
              <button type="button" class="layui-btn layui-btn-primary" onclick="layer.closeAll();">取消</button>
            </div>
          </div>
        </div>
      </div>
      <input type="hidden" id="homeTemplateId1" name="homeTemplateId">
      <input type="hidden" id="detailTemplateId1" name="detailTemplateId">
      <input type="hidden" name="id">
      <input type="hidden" name="parentId" value="0">
    </form>
    </div>

    </form>
  </script>
<script type="text/html" id="barDemo">
  <a class="layui-btn layui-btn-normal layui-btn-xs" lay-event="reset">还原</a>
  <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="delete">删除</a>
</script>
<script type="text/html" id="operation">
  <a class="layui-btn layui-btn-normal layui-btn-xs" lay-event="edit">编辑</a>
  <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>
<script type="text/html" id="pic">
  <a class="layui-btn-xs" lay-event="edit"><img src="./img/u7586.png" alt=""></a>
</script>
<script type="text/html" id="pic1">
  <a class="layui-btn-xs" lay-event="edit"><img src="./img/u5839.png" alt=""></a>
</script>
<script type="text/html" id="pic2">
  {{#  if(d.city === "0"){ }}
  <span class="right"></span>
  {{#  } else{ }}
  <span class="err"></span>
  {{#  } }}
</script>
<script type="text/html" id="pic3">
  {{#  if(d.sign === "0"){ }}
  <span class="right"></span>
  {{#  } else{ }}
  <span class="err"></span>
  {{#  } }}
</script>
<script type="text/html" id="pic4">
  {{#  if(d.experience === "0"){ }}
  <span class="right"></span>
  {{#  } else{ }}
  <span class="err"></span>
  {{#  } }}
</script>
<script type="text/html" id="pic5">
  {{#  if(d.score === "0"){ }}
  <span class="right"></span>
  {{#  } else{ }}
  <span class="err"></span>
  {{#  } }}
</script>
<script type="text/html" id="pic6">
  {{#  if(d.classify === "0"){ }}
  <span class="right"></span>
  {{#  } else{ }}
  <span class="err"></span>
  {{#  } }}
</script>
<script type="text/html" id="pic7">
  {{#  if(d.wealth === "0"){ }}
  <span class="right"></span>
  {{#  } else{ }}
  <span class="err"></span>
  {{#  } }}
</script>
<script type="text/html" id="pic8">
  {{#  if(d.classifys=== "0"){ }}
  <span class="right"></span>
  {{#  } else{ }}
  <span class="err"></span>
  {{#  } }}
</script>
<script type="text/html" id="pic9">
  {{#  if(d.wealths=== "0"){ }}
  <span class="right"></span>
  {{#  } else{ }}
  <span class="err"></span>
  {{#  } }}
</script>