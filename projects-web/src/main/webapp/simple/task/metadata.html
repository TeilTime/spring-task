<title>元数据同步</title>
<style>
  #nav span,.right span{display: none;}
  #nav a{display: inline-block;width: 40px;height: 56px;text-align: center;border: 1px solid #f5f5f5;}
  #nav a:nth-of-type(3){display: inline-block;width: 220px;height: 52px; text-align: left;padding-left: 20px;border-top: 2px solid #000;font-weight: bold;}
  .right{display: inline-block;position: absolute;top: 0;right: 0;}
  .layui-breadcrumb a{color: #000!important;}
  .layui-table-header,.layui-table-view,.layui-table-box{overflow: visible;}
  .layui-table-link:hover{color: #009688!important;}
  .layui-card-header p{margin-top: 10px;margin-left: 10px;}
  .layui-form-item .layui-input-block{display: inline-block;margin-left: -5px;}
  #select .layui-form-select{width: 327px;}
  th:last-child{text-align: center;}
  label span{color: red; margin-right: 5px;}
  #form .layui-form-label{width: 130px;}
</style>
<div class="layui-card layadmin-header">
  <div class="layui-breadcrumb" lay-filter="breadcrumb" id="nav">
    <a><i class="layui-icon layui-icon-prev"></i></a>
    <a lay-href=''><i class="layui-icon layui-icon-home"></i></a>
    <a>文档同步<i class="layui-icon layui-icon-close" style="margin-left: 50px"></i></a>
    <div class="right">
      <a><i class="layui-icon layui-icon-next"></i></a>
      <a><i class="layui-icon layui-icon-down"></i></a>
    </div>
  </div>
</div>
<div class="layui-fluid">
  <div class="layui-card" style="height: 760px;" id="index">
    <div class="layui-card-body">
      <div class="layui-btn-container" style="display: inline-block;margin-top: 20px;">
        <button class="layui-btn" data-method="offset">新建调度任务</button>
        <button class="layui-btn">批量删除</button>
      </div>
      <form class="layui-form" style="float: right;margin-right:60px;margin-top: 20px;">
        <div class="layui-form-item">
          <div class="layui-input-block" style="width: 75px;">
            <select name="" id="">
              <option value="" selected>全部</option>
            </select>
          </div>
          <div class="layui-input-block">
            <input type="text" name="title" required  lay-verify="required" placeholder="原始消息" autocomplete="off" class="layui-input">
          </div>
        </div>
      </form>
      <button class="layui-btn" style="display: inline-block;float:right;margin-right: -308px;margin-top: 20px;"><i class="layui-icon">&#xe615;</i></button>
      <table id="test" lay-filter="test"></table>
    </div>
  </div>
</div>

<script type="text/html" id="titleTpl">
  <a href="javascript:void(0);" class="layui-table-link" style="color:#000" onclick="go()">{{d.content}}</a>
</script>
<script type="text/html" id="fieldTemplate">
  <form class='layui-form' id='form'>
    <div class="layui-form-item" style='margin-top:10px;'>
      <label class="layui-form-label"><span>*</span>名称</label>
      <div class="layui-input-block" style='height:38px;width:327px;overflow:hidden;border-radius:2px'>
        <input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入" class="layui-input" style='width:327px;'>
      </div>
    </div>
    <div class="layui-form-item" style='margin-top:10px;'>
      <label class="layui-form-label">描述</label>
      <div class="layui-input-block" >
        <input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入" class="layui-input" style='width:327px;'>
      </div>
    </div>
    <div class="layui-form-item" style='margin-top:10px;'>
      <label class="layui-form-label">类型</label>
      <div class="layui-input-block" style='line-height:36px;margin-left:5px;color:#ccc' >
        文档同步
      </div>
    </div>
    <div class="layui-form-item" style='margin-top:10px;'>
      <label class="layui-form-label">运行模式</label>
      <div class="layui-input-block">
        <select name="interest" lay-filter="aihao">
          <option value="0" selected>请选择运行模式</option>
          <option value="1">每天执行一次</option>
          <option value="2">每天执行多次</option>

        </select>
      </div>
    </div>
    <div class="layui-form-item" style='margin-top:10px;'>
      <label class="layui-form-label"><span>*</span>开始时间 </label>
      <div class="layui-input-block" style='height:38px;width:327px;overflow:hidden;border-radius:2px'>
        <input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入 (时间格式：HH:mm,如12：24)" class="layui-input">
      </div>
    </div>
    <div class="layui-form-item" style='margin-top:10px;'>
      <label class="layui-form-label"><span>*</span>结束时间 </label>
      <div class="layui-input-block" style='height:38px;width:327px;overflow:hidden;border-radius:2px'>
        <input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入 (时间格式：HH:mm,如12：24)" class="layui-input">
      </div>
    </div>
    <div class="layui-form-item" style='margin-top:10px;'>
      <label class="layui-form-label"><span>*</span>间隔时间</label>
      <div class="layui-input-block" style='height:38px;width:327px;border-radius:2px'>
        <input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="-" class="layui-input" style='display:inline-block;width:80px;'>&nbsp;&nbsp;<span>小时</span>&nbsp;&nbsp;
        <input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="-" class="layui-input"style='display:inline-block;width:80px;'>&nbsp;&nbsp;<span>分钟</span>
      </div>
    </div>
  </form>
  <div class='layui-btn-container' style='margin:40px 0 0 340px;'>
    <button class='layui-btn'>确定</button>
    <button class="layui-btn layui-btn-primary">取消</button>
  </div>
</script>

<script>
  layui.use('table', function(){
    var table = layui.table;

    table.render({
      elem: '#test'
      ,data:[
        {num:1,name:"文档同步",content:"文档同步",msgType:"文档同步",parms:""},
      ]
      ,cols: [[
        {type:'checkbox'}
        ,{field:'num', width:80, title: '序号'}
        ,{field:'name', width:300, title: '名称'}
        ,{field:'content',width:340,title:'描述'}
        ,{field:'msgType',width:340,title:'类型'}
        ,{field:'parms',width:340,title:'操作参数'}
        ,{field:'operation',width:168,title:'<div>操作</div>',toolbar: '#barDemo'}
      ]]
    });
  });
  layui.use('layer', function(){ //独立版的layer无需执行这一句
    var $ = layui.jquery, layer = layui.layer; //独立版的layer无需执行这一句

    //触发事件
    var active = {

      offset: function(othis){
        var type = othis.data('type')
                ,text = othis.text();

        layer.open({
          type: 1,
          area: ['555px', '557px'],
          title:'新建调度任务',
          maxmin: true,
          content: '<div id="fieldForm"></div>'
        });
        layui.laytpl($("#fieldTemplate").html()).render({}, function(html){
          $("#fieldForm").html(html);
          layui.form.render();
        })
      },

    };

    $(document).on('click', '.layui-btn',function(){
      var othis = $(this), method = othis.data('method');
      active[method] ? active[method].call(this, othis) : '';
    });

  });

</script>
<script type="text/html" id="barDemo">
  <a class="layui-btn layui-btn-normal layui-btn-xs" lay-event="edit" style='margin-left:20px;'>修改</a>
  <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del" style='margin-left:20px;'>删除</a>
</script>